(()=>{function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(r,t,n){return(t=function(r){var t=function(r,t){if("object"!=e(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var i=n.call(r,t||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==e(t)?t:t+""}(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}!function(){wp.hooks.addFilter("blocks.registerBlockType","minami/gallery-slider-attribute",(function(e,r){return"core/gallery"===r&&(e.attributes=i(i({},e.attributes),{},{enableSwiperSlider:{type:"boolean",default:!1}})),e}));var e=wp.compose.createHigherOrderComponent((function(e){return function(t){if("core/gallery"!==t.name)return wp.element.createElement(e,t);var n=t.attributes,o=t.setAttributes,a=!!n.enableSwiperSlider,l=wp.element.useRef();return wp.element.useEffect((function(){if(l.current){var e=l.current.querySelector(".wp-block-gallery__wrapper");e&&(e.classList.remove("swiper-wrapper"),r(e.children).forEach((function(e){e.classList.remove("swiper-slide")})))}if(a&&l.current&&window.Swiper){var t=l.current.querySelector(".wp-block-gallery__wrapper");t&&(t.classList.add("swiper-wrapper"),r(t.children).forEach((function(e){e.classList.add("swiper-slide")}))),l.current.swiperInstance=new window.Swiper(l.current,{modules:[window.Swiper.Navigation,window.Swiper.Pagination,window.Swiper.Autoplay],direction:"horizontal",loop:!0,slidesPerView:3,spaceBetween:24,speed:1e3,autoplay:{delay:2e3,disableOnInteraction:!1},centeredSlides:!1,grabCursor:!0,watchOverflow:!0,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:l.current.querySelector(".swiper-pagination"),clickable:!0},navigation:{nextEl:l.current.querySelector(".swiper-button-next"),prevEl:l.current.querySelector(".swiper-button-prev")}})}return function(){if(l.current&&l.current.swiperInstance&&(l.current.swiperInstance.destroy(!0,!0),l.current.swiperInstance=null),l.current){var e=l.current.querySelector(".wp-block-gallery__wrapper");e&&(e.classList.remove("swiper-wrapper"),r(e.children).forEach((function(e){e.classList.remove("swiper-slide")})))}}}),[a,n.images]),wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(e,i(i({},t),{},{wrapperProps:i(i({},t.wrapperProps),{},a?{ref:l,className:((t.wrapperProps&&t.wrapperProps.className?t.wrapperProps.className:t.attributes.className||"")+" minami-swiper-gallery").trim()}:{ref:l,className:t.wrapperProps&&t.wrapperProps.className||t.attributes.className||""})})),wp.element.createElement(wp.blockEditor.InspectorControls,null,wp.element.createElement(wp.components.PanelBody,{title:"Slider"},wp.element.createElement(wp.components.ToggleControl,{label:"Enable Swiper Slider",checked:a,onChange:function(e){return o({enableSwiperSlider:e})}}))),a&&wp.element.createElement("div",{className:"swiper-pagination"}),a&&wp.element.createElement("div",{className:"swiper-button-next"}),a&&wp.element.createElement("div",{className:"swiper-button-prev"}))}}),"withGallerySliderToggle");wp.hooks.addFilter("editor.BlockEdit","minami/gallery-slider-toggle",e),wp.hooks.addFilter("blocks.getSaveContent.extraProps","minami/gallery-slider-class",(function(e,r,t){return"core/gallery"===r.name&&t.enableSwiperSlider&&(e.className=((e.className||"")+" has-swiper-slider minami-swiper-gallery").trim()),e}))}()})();