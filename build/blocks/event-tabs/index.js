(()=>{"use strict";var e,t={159:()=>{const e=window.wp.blocks,t=window.wp.i18n,r=window.wp.data,n=window.React,a=window.wp.blockEditor,i=window.ReactJSXRuntime,l=JSON.parse('{"UU":"create-block/event-tabs"}');(0,e.registerBlockType)(l.UU,{edit:function(){const e=(0,a.useBlockProps)(),[l,s]=(0,n.useState)(0),o=(0,r.useSelect)((e=>e("core").getEntityRecords("taxonomy","event_category",{per_page:-1})),[]),c=(0,r.useSelect)((e=>e("core").getEntityRecords("postType","event",{per_page:-1})),[]);console.log(c);const d=(e,t=30)=>{if(!e)return"";const r=document.createElement("div");r.innerHTML=e;const n=(r.textContent||r.innerText||"").trim().split(/\s+/);return n.slice(0,t).join(" ")+(n.length>t?"...":"")},p=[{id:null,name:(0,t.__)("All","event-tabs")},...o?o.map((e=>({id:e.id,name:e.name}))):[]];return(0,i.jsx)("div",{...e,children:(0,i.jsxs)("div",{className:"event-tabs",children:[(0,i.jsx)("ul",{className:"tabs",children:p.map(((e,t)=>(0,i.jsx)("li",{className:"tab"+(l===t?" active":""),onClick:()=>s(t),children:e.name},null===e.id?"all":e.id)))}),(0,i.jsx)("div",{className:"tab-content-wrap",children:(0,i.jsx)("div",{className:"tab-content",children:p[l]?(()=>{const e=(e=>{if(!c)return[];let t;return t=null===e?[...c]:c.filter((t=>t.event_category&&t.event_category.includes(e))),t.sort(((e,t)=>new Date(t.date)-new Date(e.date))),t.slice(0,3)})(p[l].id);return e.length?e.map((e=>(0,i.jsxs)("div",{className:"event-item",children:[(0,i.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"event-thumb-link",children:e.featured_media_url?(0,i.jsx)("img",{src:e.featured_media_url,alt:e.title.rendered,className:"event-thumb"}):(0,i.jsx)("img",{src:"https://placehold.co/400x300?text=No+Image",alt:"No image found",className:"event-thumb"})}),(0,i.jsx)("h4",{children:(0,i.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.title.rendered})}),(0,i.jsx)("div",{className:"event-excerpt",children:d(e.excerpt&&e.excerpt.rendered?e.excerpt.rendered:"",30)})]},e.id))):(0,i.jsx)("p",{children:"No events found for this category."})})():(0,i.jsx)("p",{children:"Loading..."})})})]})})}})}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,r,a,i)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,a,i]=e[d],s=!0,o=0;o<r.length;o++)(!1&i||l>=i)&&Object.keys(n.O).every((e=>n.O[e](r[o])))?r.splice(o--,1):(s=!1,i<l&&(l=i));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,a,i]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={872:0,776:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,i,[l,s,o]=r,c=0;if(l.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(o)var d=o(n)}for(t&&t(r);c<l.length;c++)i=l[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=globalThis.webpackChunkminami=globalThis.webpackChunkminami||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[776],(()=>n(159)));a=n.O(a)})();