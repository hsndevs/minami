(()=>{"use strict";var e,t={159:()=>{const e=window.wp.blocks,t=window.wp.i18n,n=window.wp.data,r=window.React,a=window.wp.blockEditor,i=window.ReactJSXRuntime,l=JSON.parse('{"UU":"create-block/event-tabs"}');(0,e.registerBlockType)(l.UU,{edit:function(){const e=(0,a.useBlockProps)(),[l,s]=(0,r.useState)(0),o=(0,n.useSelect)((e=>e("core").getEntityRecords("taxonomy","event_category",{per_page:-1})),[]),c=(0,n.useSelect)((e=>e("core").getEntityRecords("postType","event",{per_page:-1})),[]);console.log(c);const d=(e,t=30)=>{if(!e)return"";const n=document.createElement("div");n.innerHTML=e;const r=(n.textContent||n.innerText||"").trim().split(/\s+/);return r.slice(0,t).join(" ")+(r.length>t?"...":"")},p=[{id:null,name:(0,t.__)("All","event-tabs")},...o?o.map((e=>({id:e.id,name:e.name}))):[]];return(0,i.jsx)("div",{...e,children:(0,i.jsxs)("div",{className:"event-tabs",children:[(0,i.jsx)("ul",{className:"tabs",children:p.map(((e,t)=>(0,i.jsx)("li",{className:"tab"+(l===t?" active":""),onClick:()=>s(t),children:e.name},null===e.id?"all":e.id)))}),(0,i.jsx)("div",{className:"tab-content-wrap",children:(0,i.jsx)("div",{className:"tab-content editor-tab-content",children:p[l]?(()=>{const e=(e=>{if(!c)return[];let t;return t=null===e?[...c]:c.filter((t=>t.event_category&&t.event_category.includes(e))),t.sort(((e,t)=>new Date(t.date)-new Date(e.date))),t.slice(0,3)})(p[l].id);return e.length?e.map((e=>(0,i.jsxs)("div",{className:"event-item",children:[(0,i.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"event-thumb-link",children:e.featured_media_url?(0,i.jsx)("img",{src:e.featured_media_url,alt:e.title.rendered,className:"event-thumb"}):(0,i.jsx)("img",{src:"https://placehold.co/400x300?text=No+Image",alt:"No image found",className:"event-thumb"})}),(0,i.jsx)("h4",{children:(0,i.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.title.rendered})}),(0,i.jsx)("div",{className:"event-excerpt",children:d(e.excerpt&&e.excerpt.rendered?e.excerpt.rendered:"",30)})]},e.id))):(0,i.jsx)("p",{children:"No events found for this category."})})():(0,i.jsx)("p",{children:"Loading..."})})})]})})}})}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,a,i)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,a,i]=e[d],s=!0,o=0;o<n.length;o++)(!1&i||l>=i)&&Object.keys(r.O).every((e=>r.O[e](n[o])))?n.splice(o--,1):(s=!1,i<l&&(l=i));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,a,i]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={872:0,776:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,i,[l,s,o]=n,c=0;if(l.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(o)var d=o(r)}for(t&&t(n);c<l.length;c++)i=l[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},n=globalThis.webpackChunkminami=globalThis.webpackChunkminami||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[776],(()=>r(159)));a=r.O(a)})();